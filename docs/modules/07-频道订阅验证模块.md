# 频道订阅验证模块技术文档 (V2.0)

## 模块概述

本模块是一个可选的、可插拔的准入控制组件。当启用时，它会强制要求所有与机器人交互的用户必须先订阅指定的Telegram频道或群组，才能继续使用机器人的功能。

在V2.0架构中，此模块的功能和实现方式保持不变，可根据运营需求随时在后台开启或关闭。

### 业务价值
- 为指定频道或群组引流，提升订阅数。
- 作为一种用户筛选机制。
- 配置灵活，可随时开关。

---

(其余内容与V1.0版本基本一致，核心功能和数据库设计保持不变)

## 数据库设计

本模块的配置存储在`system_config`表中。

```sql
-- 订阅验证配置示例 (存储在 system_config 表中)
INSERT OR REPLACE INTO system_config (config_key, config_value, description)
VALUES (
    'subscription_verification_config',
    '{"enabled":true,"required_subscriptions":[{"chat_id":"@channel","display_name":"频道名","join_link":"https://t.me/channel"}]}',
    '频道订阅验证配置'
);
```
